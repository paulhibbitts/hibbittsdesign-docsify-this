<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Docsify-This | A Lightweight Markdown Open Publishing Tool</title>
  <meta name="description"
    content="This web app provides a quick way to display one or more Markdown files as standalone web pages without needing to setup your own website. All you need is an online Markdown file and pass that URL to docsify-this.net.">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="icon" href="assets/favicon/favicon.png"> -->
  <link rel="shortcut icon" href="#">

  <meta property="og:title" content="Docsify-This" />
  <meta property="og:description" content="Instantly turn online Markdown files into standalone Web pages." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://docsify-this.net/" />
  <meta property="og:image" content="https://docsify-this.net/images/screenshot.png" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@hibbittsdesign" />
  <meta name="twitter:title" content="Docsify-This" />
  <meta name="twitter:description" content="Instantly turn online Markdown files into standalone Web pages." />
  <meta name="twitter:image" content="https://docsify-this.net/images/screenshot.png" />

  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">

  <!-- Stylesheets -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css"> -->
  <link rel="stylesheet" href="assets/vendor/themeable/themes/theme-simple.css">
  <!-- <link rel="stylesheet" media="(prefers-color-scheme: light)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css"> -->
  <!-- <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css"> -->
  <link rel="stylesheet" media="(prefers-color-scheme: light)" href="assets/vendor/themeable/themes/theme-simple.css">
 <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="assets/vendor/themeable/themes/theme-simple-dark.css">
  <link rel="stylesheet" href="assets/css/theme.css">
  <link rel="stylesheet" href="assets/css/custom.css">

  <!-- Font Awesome Stylesheets -->
  <link rel="stylesheet" href="assets/vendor/fontawesome/css/fontawesome.css" />
  <link rel="stylesheet" href="assets/vendor/fontawesome/css/brands.css" />
  <link rel="stylesheet" href="assets/vendor/fontawesome/css/regular.css" />
  <link rel="stylesheet" href="assets/vendor/fontawesome/css/solid.css" />

  <!-- Katex Stylesheet -->
  <!-- <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" /> -->
  <link rel="stylesheet" href="assets/vendor/katex/katex.min.css" />

  <!-- Coloris -->
  <link rel="stylesheet" href="assets/vendor/coloris/coloris.min.css"/>
  <script src="assets/vendor/coloris/coloris.min.js"></script>

  <style>
    :root {

      --base-font-family: "Source Sans Pro", "Helvetica Neue", Arial, sans-serif;

      --base-line-height: 1.4;
      --base-font-size: 1.125rem;

      --cover-max-width: 45em;

      --heading-h2-border-style: none;
      --heading-h1-margin: 1rem 0rem -0.5rem 0rem;
      --heading-h2-margin: 1rem 0rem -1.5rem 0rem;
      --heading-h3-margin: 1rem 0rem -.5rem 0rem;
      --heading-h4-margin: 1rem 0rem -.5rem 0rem;
      --heading-h5-margin: 1rem 0rem -.5rem 0rem;
      --heading-h6-margin: 1rem 0rem 0rem 0rem;
      --heading-h1-font-size: 1.60rem;
      --heading-h2-font-size: 1.40rem;
      --heading-h3-font-size: 1.20rem;
      --heading-h4-font-size: 1.15rem;
      --heading-h5-font-size: 1.1rem;
      --heading-h6-font-size: 1rem;
      --heading-h1-font-weight: 400;
      --heading-h2-font-weight: 400;
      --heading-h3-font-weight: 400;
      --heading-h4-font-weight: 400;
      --heading-h5-font-weight: 400;
      --heading-h6-font-weight: 400;

      --navbar-root-color--active: #0374B5;
      --navbar-root-margin: 0 0 0 .8em;

      --blockquote-border-color: #757b7f;

      --sidebar-name-color: #0374B5;
      --sidebar-nav-link-color--active: #0374B5;
      --sidebar-nav-link-border-color--active: #0374B5;
      --sidebar-name-margin: 1.5rem -.2rem;
      --sidebar-nav-link-font-weight--active: bold;

      --link-color: #0374B5;

      --pagination-title-color: #0374B5;

    }
  </style>

</head>

<body>
  <div id="app"></div>
  <script>

    // Enter the URL of your own GitHub or Codeberg Repository in between the two quotes below
    var gitLinkRepoURL = '';

    // Customize the text for your Edit this Page on GitHub link between the two quotes below
    var editLinkText = 'Edit this Page';

    // Set standalone to true to permanently hide the Sidebar
    var standalone = (!(getURLParameterByName('sidebar', true, false, window.location.href, true) === 'true' && getURLParameterByName('basePath')));

    // Set ToC to true to permanently show page Table of Contents (Sidebar and Navbar must also be hidden)
    var ToC = false;

    // Set navbar to true to permanently override the hiding of the Navbar when displaying as standalone
    var navbar = false;
 
    // Set footer to true to permanently show the Footer ('_footer.md)
    var footer = false;

    // Set darkmode to true to permanently enable dark mode support
    var darkmode = false;

    // Set allowedDomains to contain single or multiple (comma separated) domain names to control which domains can be used for hosting source Markdown files
    var allowedDomains = 'codeberg.org,raw.githubusercontent.com,hibbittsdesign.org';

    // Get value from GET-parameter in URL
    // @param {array}  name        Parameter-name
    // @param {*}      isTrue      Returns this variable if "name" found
    // @param {*}      isFalse     Returns this variable if "name" not found
    // @param {string} url         A custom url to look in (defaults to current page URL)
    // @param {bool}   returnValue Returns the URL Param if exists
    // @returns {string|null}      Parameter-value
    function getURLParameterByName(name, isTrue = null, isFalse = null, url = window.location.href, returnValue = false) {

      let exists = false;

      url = decodeURIComponent(url);

      if (Array.isArray(name)) {

        name.forEach(element => {
          if (getURLParameterByName(element)) {
            exists = true;
          }
        });

      } else {

        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
        var results = regex.exec(url);

        exists = (results && results[2]) ? true : false;

      }

      if (returnValue && exists) {
        return results[2];
      } else if (!exists && isFalse) {
        return isFalse;
      }

      if (exists && isTrue) {
        return isTrue;
      }

      if (!exists && isFalse) {
        return isFalse;
      }

      return exists;
    }

    // DOCSIFY THIS SCRIPTS
    function openURLs(url) {

      if (url) {

        if (isValidUrl(url)) {

          docsifyURL = window.location.href

          var params = new URLSearchParams(docsifyURL.search);
          params.delete('url-field');
          docsifyURL = docsifyURL.split("?")[0]; //url;

          docsifyURL = docsifyURL.replace('/#/', '');

          // If not Raw source URL convert it and determine automatic gitlink page URL when possible
          if (url.includes("github.com")) {
            var gitlinkPageURL = url;
            url = url.replace('github.com', 'raw.githubusercontent.com');
            url = url.replace(/\/blob/, '');
          } else if (url.includes("github.dev")) {
            var gitlinkPageURL = url;
            url = url.replace('github.dev', 'raw.githubusercontent.com');
            url = url.replace(/\/blob/, '');
          } else if (url.includes("raw.githubusercontent.com")) {
            var gitlinkPageURL = url;
            gitlinkPageURL = gitlinkPageURL.replace('raw.githubusercontent.com', 'github.com');
            gitlinkPageURL = gitlinkPageURL.replace(/\/main/, '/blob/main');
            gitlinkPageURL = gitlinkPageURL.replace(/\/master/, '/blob/master');
          } else if (url.includes("gist.githubusercontent.com")) {
            var gitlinkPageURL = url;
            gitlinkPageURL = gitlinkPageURL.replace('gist.githubusercontent.com', 'gist.github.com');
            gitlinkPageURL = gitlinkPageURL.split("/raw")[0];
          } else if (url.includes("codeberg.org")) {
            var gitlinkPageURL = url;
            url = url.replace(/\/raw/, '');
            url = url.replace(/\/src/, '');
            url = url.replace(/\/branch/, '');
            url = url.replace(/\/main/, '');
            url = url.replace(/\/master/, '');
            url = url.replace('codeberg.org', 'raw.codeberg.page');
          } else if (url.includes("codeberg.page")) {
            // Automatic determination of gitLink not supported with raw.codeberg.pages URLs
            alert("Codeberg.page URLs not supported, please use Codeberg.org Markdown file URL (e.g. 'https://codeberg.org/paulhibbitts/docsify-this-one-page-article/src/branch/main/home.md') or raw URL (e.g. 'https://codeberg.org/paulhibbitts/docsify-this-one-page-article/raw/branch/main/home.md').");
              return;
          } else {
            var gitlinkPageURL = '';
          }

          // Get last segment of URL
          var lastSegment = url.split('/').pop();
          var URLparms = '';

          const cb1 = document.querySelector('#editCheck');
          if (cb1.checked) {
            if (gitlinkPageURL) {
              if (!(isExtensionAllowed(lastSegment))) {
                // No filename is present, so assume default README.md file
                gitlinkPageURL = gitlinkPageURL + "README.md";
              }
              if (document.querySelector('#stylesidebar').checked || document.querySelector('#loadcustomnavbar').checked) {
                gitlinkPageURL = gitlinkPageURL.substring(0, gitlinkPageURL.lastIndexOf("/"));
              }
              var URLparms = URLparms + `&edit-link=` + gitlinkPageURL;
            }
          }

          if (document.querySelector('#stylesidebar').checked) {
            var URLparms = URLparms + `&sidebar=true`;
          }

          if (document.querySelector('#styletoc').checked) {
            var URLparms = URLparms + `&toc=true`;
          }

          var getBrowserTabTitle = document.getElementById("browserTabTitle");
          var browserTabTitle = getBrowserTabTitle.value;
          if (browserTabTitle === '') {
            document.getElementById("browserTabTitle").value = 'Published by Docsify-This';
          }
          if (!(browserTabTitle == "Published by Docsify-This")) {
            browserTabTitle = encodeURI(browserTabTitle);
            URLparms = URLparms + `&browser-tab-title=` + browserTabTitle;
          }

          var getEditThisPage = document.getElementById("editLinkText");
          var editlinktext = getEditThisPage.value;
          if (editlinktext === '') {
            document.getElementById("editLinkText").value = 'Edit this Page';
          }
          if (!(editlinktext == "Edit this Page")) {
            editlinktext = editlinktext.replace(/ /g, '%20');
            URLparms = URLparms + `&edit-link-text=` + editlinktext;
          }

          const cb2 = document.querySelector('#editLinkTopCheck');
          if (cb1.checked && cb2.checked) {
            if (gitlinkPageURL) {
              var URLparms = URLparms + `&edit-link-top=true`;
            }
          }

          const cb3 = document.querySelector('#hideCredits');
          if (cb3.checked) {
            var URLparms = URLparms + `&hide-credits=true`;
          }

          const cb4 = document.querySelector('#narrowToC');
          if (cb4.checked) {
            if (URLparms.includes("&toc=true")) {
              var URLparms = URLparms.replace("&toc=true", "");
              URLparms = URLparms + `&toc-narrow=true`;
            }
          }

          const cb5 = document.querySelector('#toch1');
          const cb6 = document.querySelector('#toch2');
          const cb7 = document.querySelector('#toch3');

          if (URLparms.includes("&toc=true") || URLparms.includes("&toc-narrow=true")) {
            if (((cb5.checked === false) && (cb6.checked === false) && (cb7.checked === false))) {
              alert("At least one page Heading level for the Table of Contents must be selected.");
              return;
            } else if (!(!(cb5.checked) && (cb6.checked) && (!(cb7.checked)))) {
              if (URLparms.includes("&toc=true")) {
                var ToCHeadings = "";
                if (cb5.checked) {
                  ToCHeadings = "h1";
                }
                if (cb6.checked) {
                  if (ToCHeadings) {
                    ToCHeadings = ToCHeadings + ",h2";
                  } else {
                    ToCHeadings = "h2";
                  }
                }
                if (cb7.checked) {
                  if (ToCHeadings) {
                    ToCHeadings = ToCHeadings + ",h3";
                  } else {
                    ToCHeadings = "h3";
                  }
                }
                URLparms = URLparms + `&toc-headings=` + ToCHeadings;
              }
            }
          }

          var getMaxLevel = document.getElementById("maxLevel");
          var maxLevel = getMaxLevel.value;
          if (maxLevel === '') {
            document.getElementById("maxLevel").value = 2;
          }
          if (!(maxLevel == 2)) {
            URLparms = URLparms + `&maxLevel=` + maxLevel;
          }

          const cb8 = document.querySelector('#hypothesisenable');
          if (cb8.checked) {
            var URLparms = URLparms + `&hypothesis=true`;
          }

          var getFontFamily = document.getElementById('fontfamily').selectedOptions[0].value;
          if (!(getFontFamily == "default")) {
            var URLparms = URLparms + `&font-family=` + getFontFamily;
          }

          var getFontSize = document.getElementById('fontsize').value;
          if (!(getFontSize == "1.125")) {
            var URLparms = URLparms + `&font-size=` + getFontSize;
          }

          var getLineHeight = document.getElementById('lineheight').value;
          if (!(getLineHeight == "1.4")) {
            var URLparms = URLparms + `&line-height=` + getLineHeight
          }

          var getColor = document.getElementById("linkcolor");
          var hexCode = getColor.value;
          if (hexCode === '') {
            hexCode = '#0374B5';
            document.getElementById("linkcolor").value = hexCode;
            document.getElementById("linkcolorpreview").style.visibility = "visible";
            document.getElementById("linkcolorpreview").style.borderColor = '#0374B5';
            document.getElementById("linkcolorpreview").style.backgroundColor = '#0374B5';
          }
          if (hexCode.charAt(0) == "#") {
            hexCode = hexCode.substring(1);
          }
          if (!(hexCode == "0374B5")) {
            URLparms = URLparms + `&link-color=` + hexCode;
          }

          const cb9 = document.querySelector('#loadfavicon');
          if (cb9.checked) {
            var URLparms = URLparms + `&loadFavicon=favicon.png`;
          }

          const cb10 = document.querySelector('#loadcoverpage');
          if (cb10.checked) {
            var URLparms = URLparms + `&coverpage=_coverpage.md`;
          }

          const cb11 = document.querySelector('#loadcustomsidebar');
          if (cb11.checked) {
            if (!(URLparms.includes("&sidebar=true"))) {
              var URLparms = URLparms + `&sidebar=true`; 
              document.getElementById("stylecontentonly").checked = false;
              document.getElementById("styletoc").checked = false;
              document.getElementById("stylesidebar").checked = true;
            }
            var URLparms = URLparms + `&loadSidebar=_sidebar.md`;
          }

          const cb12 = document.querySelector('#loadcustomnavbar');
          if (cb12.checked) {
            var URLparms = URLparms + `&loadNavbar=_navbar.md`;
          }

          const cb13 = document.querySelector('#loadcustomfooter');
          if (cb13.checked) {
            var URLparms = URLparms + `&loadFooter=_footer.md`;
          }

          const cb14 = document.querySelector('#enableSidebarsearch');
          if (cb14.checked) {
            var URLparms = URLparms + `&search=true`;
          }


          var getSubMaxLevel = document.getElementById("subMaxLevel");
          var subMaxLevel = getSubMaxLevel.value;
          if (subMaxLevel === '') {
            document.getElementById("subMaxLevel").value = 2;
          }
          if (!(subMaxLevel == 2)) {
            URLparms = URLparms + `&subMaxLevel=` + subMaxLevel;
          }

          var getpageTitle = document.getElementById("pageTitle");
          var pageTitle = getpageTitle.value;
          if (!(pageTitle == "")) {
            pageTitle = pageTitle.replace(/ /g, '%20');
            URLparms = URLparms + `&page-title=` + pageTitle;
          }

          var getheaderweight = document.getElementById('headerweight').value;
          if (!(getheaderweight == "400")) {
            var URLparms = URLparms + `&header-weight=` + getheaderweight
          }

          const cb15 = document.querySelector('#zoomimages');
          if (cb15.checked) {
            var URLparms = URLparms + `&zoom-images=true`;
          }

          var getColor = document.getElementById("coverpagecolor");
          var hexCode = getColor.value;
          if (hexCode === '') {
            hexCode = '#6C8A9A';
            document.getElementById("coverpagecolor").value = hexCode;
            document.getElementById("coverpagecolorpreview").style.visibility = "visible";
            document.getElementById("coverpagecolorpreview").style.borderColor = '#6C8A9A';
            document.getElementById("coverpagecolorpreview").style.backgroundColor = '#6C8A9A';
          }
          if (hexCode.charAt(0) == "#") {
            hexCode = hexCode.substring(1);
          }
          if (!(hexCode == "6C8A9A")) {
            URLparms = URLparms + `&coverpage-color=` + hexCode;
          }

          const cb16 = document.querySelector('#enableDarkmode');
          if (cb16.checked) {
            var URLparms = URLparms + `&dark-mode=true`;
          }
          
          var getColor = document.getElementById("linkcolordarkmode");
          var hexCode = getColor.value;
          if (hexCode === '') {
            hexCode = '#0374B5';
            document.getElementById("linkcolordarkmode").value = hexCode;
            document.getElementById("linkcolordarkmodepreview").style.visibility = "visible";
            document.getElementById("linkcolordarkmodepreview").style.borderColor = '#0374B5';
            document.getElementById("linkcolordarkmodepreview").style.backgroundColor = '#0374B5';
          }
          if (hexCode.charAt(0) == "#") {
            hexCode = hexCode.substring(1);
          }
          if (!(hexCode == "0374B5")) {
            URLparms = URLparms + `&link-color-dark-mode=` + hexCode;
          }

          var getColor = document.getElementById("coverpagecolordarkmode");
          var hexCode = getColor.value;
          if (hexCode === '') {
            hexCode = '#262D30';
            document.getElementById("coverpagecolordarkmode").value = hexCode;
            document.getElementById("coverpagecolordarkmodepreview").style.visibility = "visible";
            document.getElementById("coverpagecolordarkmodepreview").style.borderColor = '#262D30';
            document.getElementById("coverpagecolordarkmodepreview").style.backgroundColor = '#262D30';
          }
          if (hexCode.charAt(0) == "#") {
            hexCode = hexCode.substring(1);
          }
          if (!(hexCode == "262D30")) {
            URLparms = URLparms + `&coverpage-color-dark-mode=` + hexCode;
          }

          if (!(isExtensionAllowed(lastSegment)) || lastSegment === "") {
          // Filename without supported extension or missing filename
            alert("Please include the full path and filename with a supported extension (" + getAllowedFileExtensions() + ") in the file URL, for example 'https://github.com/hibbitts-design/docsify-this-one-page-article/blob/main/home.md'.");
            selectText();
            return;
          } else {
            // Filename with supported extension is present along with full path and filename
            url = url.substring(0, url.lastIndexOf("/"));
            var baseURL = docsifyURL + `?basePath=${url}&homepage=${lastSegment}` + URLparms;
          }

            window.open(baseURL);

          } else {

            alert("Please enter a valid Markdown file URL.");
            selectText();

        }

      } else {

        alert("Please enter a Markdown file URL.");
        selectText();

      }

    }

    const isValidUrl = urlString=> {
        var urlPattern = new RegExp('^(https?:\\/\\/)?'+ // validate protocol
        '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // validate domain name
        '((\\d{1,3}\\.){3}\\d{1,3}))'+ // validate OR ip (v4) address
        '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // validate port and path
        '(\\?[;&a-z\\d%_.~+=-]*)?'+ // validate query string
        '(\\#[-a-z\\d_]*)?$','i'); // validate fragment locator
      return !!urlPattern.test(urlString);
    }

    function selectText() {
      const input = document.getElementById('docsifythisurlfield');
      input.focus();
      input.select();
    }

    function toggleDiv(link) {
      var theDiv = document.getElementById("docsifythisurlbuilderoptionsDiv");
      if (theDiv.style.display === "none") {
        link.text = 'Show Fewer Page Appearance Options \«';
        document.getElementById("pageappearanceoptionsheader").style.display = "none";
        theDiv.style.display = "block";
      } else {
        link.text = 'Show More Page Appearance Options \»';
        theDiv.style.display = "none";
      }
    }

    function validateColorAndUpdatePreview(inputId, previewId) {
      var getColor = document.getElementById(inputId);
      var hexCode = getColor.value;
      var regExp = /[#0-9A-Fa-f]{1}/g;
      
      if (!(regExp.test(hexCode.slice(-1)))) {
        document.getElementById(inputId).value = hexCode.slice(0, -1);
      }
      
      if (isHexadecimalColor(hexCode.substring(1))) {
        document.getElementById(previewId).style.visibility = "visible";
      } else {
        if (isHexadecimalColor(document.getElementById(inputId).value)) {
          document.getElementById(previewId).style.visibility = "visible";
        } else {
          document.getElementById(previewId).style.visibility = "hidden";
        }
      }
      
      if (!(hexCode.charAt(0) == "#")) {
        hexCode = '#' + hexCode;
      }
      
      document.getElementById(previewId).style.borderColor = hexCode;
      document.getElementById(previewId).style.backgroundColor = hexCode;
    }

    function isHexadecimalColor(str) {
      return /^(?:[0-9A-F]{3}|[0-9A-F]{6})$/i.test(str);
    }

    function restoreAllDefaults() {
      document.getElementById("stylecontentonly").checked = true;
      document.getElementById("styletoc").checked = false;
      document.getElementById("stylesidebar").checked = false;
      document.getElementById("browserTabTitle").value = 'Published by Docsify-This';
      document.getElementById("editCheck").checked = false;
      document.getElementById("fontfamily").value = 'default';
      document.getElementById("fontsize").value = '1.125';
      document.getElementById("lineheight").value = '1.4';
      document.getElementById("linkcolor").value = '#0374B5';
      document.getElementById("linkcolorpreview").style.visibility = "visible";
      document.getElementById("linkcolorpreview").style.borderColor = '#0374B5';
      document.getElementById("linkcolorpreview").style.backgroundColor = '#0374B5';
      document.getElementById("editLinkText").value = 'Edit this Page';
      document.getElementById("editLinkTopCheck").checked = false;
      document.getElementById("narrowToC").checked = false;
      document.getElementById("toch1").checked = false;
      document.getElementById("toch2").checked = true;
      document.getElementById("toch3").checked = false;
      document.getElementById("maxLevel").value = 2;
      document.getElementById("hideCredits").checked = false;
      document.getElementById("hypothesisenable").checked = false;
      document.getElementById("loadfavicon").checked = false;
      document.getElementById("loadcoverpage").checked = false;
      document.getElementById("loadcustomsidebar").checked = false;
      document.getElementById("loadcustomnavbar").checked = false;
      document.getElementById("loadcustomfooter").checked = false;
      document.getElementById("enableSidebarsearch").checked = false;
      document.getElementById("subMaxLevel").value = 2;
      document.getElementById("pageTitle").value = '';
      document.getElementById("headerweight").value = '400';
      document.getElementById("zoomimages").checked = false;
      document.getElementById("coverpagecolor").value = '#6C8A9A';
      document.getElementById("coverpagecolorpreview").style.visibility = "visible";
      document.getElementById("coverpagecolorpreview").style.borderColor = '#6C8A9A';
      document.getElementById("coverpagecolorpreview").style.backgroundColor = '#6C8A9A';
      document.getElementById("enableDarkmode").checked = false;
      document.getElementById("linkcolordarkmode").value = '#0374B5';
      document.getElementById("linkcolordarkmodepreview").style.visibility = "visible";
      document.getElementById("linkcolordarkmodepreview").style.borderColor = '#0374B5';
      document.getElementById("linkcolordarkmodepreview").style.backgroundColor = '#0374B5';
      document.getElementById("coverpagecolordarkmode").value = '#262D30';
      document.getElementById("coverpagecolordarkmodepreview").style.visibility = "visible";
      document.getElementById("coverpagecolordarkmodepreview").style.borderColor = '#262D30';
      document.getElementById("coverpagecolordarkmodepreview").style.backgroundColor = '#262D30';
    }

    function setColorProperties(color) {
      document.documentElement.style.setProperty('--navbar-root-color--active', color);
      document.documentElement.style.setProperty('--blockquote-border-color', color);
      document.documentElement.style.setProperty('--sidebar-name-color', color);
      document.documentElement.style.setProperty('--sidebar-nav-link-color--active', color);
      document.documentElement.style.setProperty('--sidebar-nav-link-border-color--active', color);
      document.documentElement.style.setProperty('--link-color', color);
      document.documentElement.style.setProperty('--pagination-title-color', color);
      document.documentElement.style.setProperty('--cover-link-color', color);
      document.documentElement.style.setProperty('--cover-button-primary-background', color);
      document.documentElement.style.setProperty('--cover-button-primary-border',  '1px solid ' + color);
      document.documentElement.style.setProperty('--sidebar-nav-pagelink-background--active', 'no-repeat 0px center / 5px 6px linear-gradient(225deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4.25px), no-repeat 5px center / 5px 6px linear-gradient(135deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4.25px)');
      document.documentElement.style.setProperty('--sidebar-nav-pagelink-background--collapse', 'no-repeat 2px calc(50% - 2.5px) / 6px 5px linear-gradient(45deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4px), no-repeat 2px calc(50% + 2.5px) / 6px 5px linear-gradient(135deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4px)');
      document.documentElement.style.setProperty('--sidebar-nav-pagelink-background--loaded', 'no-repeat 0px center / 5px 6px linear-gradient(225deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4.25px), no-repeat 5px center / 5px 6px linear-gradient(135deg, transparent 2.75px, ' + color + ' 2.75px 4.25px, transparent 4.25px)');
    }

    function updateThemeModeLinkColors() {
      // Update link colors based on current theme mode
      const darkModeEnabled = getURLParameterByName('dark-mode', null, null, window.location.href, true) || darkmode;

      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && darkModeEnabled) {
        // dark mode
        const linkColorDarkMode = getURLParameterByName('link-color-dark-mode', null, null, window.location.href, true);

        if (linkColorDarkMode !== false) {
          setColorProperties('#' + linkColorDarkMode);
          document.documentElement.style.setProperty('--cover-button-color', '#' + linkColorDarkMode);
          document.documentElement.style.setProperty('--cover-button-border', '1px solid ' + '#' + linkColorDarkMode);
        } else {
          const linkColor = getURLParameterByName('link-color', null, null, window.location.href, true);

          if (linkColor !== false) {
            setColorProperties('#' + linkColor);
            document.documentElement.style.setProperty('--cover-button-color', '#FFFFFF');
            document.documentElement.style.setProperty('--cover-button-border', '1px solid #59666D');
          } else {
            setColorProperties('#1BA1EE');
            document.documentElement.style.setProperty('--cover-button-color', '#1BA1EE');
            document.documentElement.style.setProperty('--cover-button-border', '1px solid #1BA1EE');
          }
        }

        const coverPageColorDarkMode = getURLParameterByName('coverpage-color-dark-mode', null, null, window.location.href, true);

        if (coverPageColorDarkMode !== false) {
          document.documentElement.style.setProperty('--cover-background-color', '#' + coverPageColorDarkMode);
        } else {
          document.documentElement.style.setProperty('--cover-background-color', '#262d30');
        }
      } else {
        // light mode
        const linkColor = getURLParameterByName('link-color', null, null, window.location.href, true);

        if (linkColor !== false) {
          setColorProperties('#' + linkColor);
          document.documentElement.style.setProperty('--cover-button-color', '#' + linkColor);
          document.documentElement.style.setProperty('--cover-button-border', '1px solid #' + linkColor);
        } else {
          setColorProperties('#0374B5');
          document.documentElement.style.setProperty('--cover-button-color', '#0374B5');
          document.documentElement.style.setProperty('--cover-button-border', '1px solid #0374B5');
        }

        const coverPageColor = getURLParameterByName('coverpage-color', null, null, window.location.href, true);

        if (coverPageColor !== false) {
          document.documentElement.style.setProperty('--cover-background-color', '#' + coverPageColor);
        } else {
          document.documentElement.style.setProperty('--cover-background-color', '#6c8a9a');
        }

      }
    }

    function getFileExtension(filename) {
      // Extracts and returns the file extension from the given filename
      if (filename) {
        const dotIndex = filename.lastIndexOf('.');
        if (dotIndex !== -1) {
          return filename.slice(dotIndex);
        }
      }
      return '';
    }

    function getAllowedFileExtensions() {
      // Return list of supported file extensions
      return ".md";
    }

    function isExtensionAllowed(fileURL) {
      // Check if filename contains an allowed file extension
      var allowedExtensions = getAllowedFileExtensions();
      fileURL = fileURL.split('?id')[0];
      var extension = fileURL.split(".").pop();

      return allowedExtensions.includes(extension.toLowerCase());
    }

    async function checkIfFileExists(url) {
      // Return true if file exists, false otherwise
      try {
        const response = await fetch(url, { method: "HEAD" });
        return response.ok;
      } catch (error) {
        return false;
      }
    }

    function setFavicon(favImage){
      let headTitle = document.querySelector('head');
      let setFavicon = document.createElement('link');
      setFavicon.setAttribute('rel','shortcut icon');
      setFavicon.setAttribute('href',favImage);
      headTitle.appendChild(setFavicon);
      let appleTouchIcon = document.createElement('link');
      appleTouchIcon.setAttribute('rel','apple-touch-icon');
      appleTouchIcon.setAttribute('href',favImage);
      headTitle.appendChild(appleTouchIcon);
    }

    // Docsify
    window.$docsify = {
      // GENERAL SETTINGS
      // -----------------------------------------------------------------
      name: 'Docsify-This',
      // repo           : 'https://github.com/hibbitts-design/docsify-open-publishing-starter-kit/',
      // Rename homepage to README.md and set homepage to README.md to default to README file for Remote Docsify
      homepage: 'README.md',
      // coverpage      : 'coverpage.md',
      loadSidebar: !(getURLParameterByName(['standalone', 'embedded']) || standalone || getURLParameterByName('basePath')),
      loadNavbar: !(getURLParameterByName(['standalone', 'embedded']) || !(getURLParameterByName('navbar')) || standalone || !navbar ||false),
      externalLinkTarget: (getURLParameterByName(['standalone', 'embedded'], '_top', '_blank')),
      loadFooter: (getURLParameterByName('footer') || footer || false),
      ext: getFileExtension(getURLParameterByName('homepage', null, null, window.location.href, true)),
      executeScript: true,

      // SIDEBAR NAVIGATION
      // -----------------------------------------------------------------
      auto2top: true,
      maxLevel: 2,
      // Set subMaxLevel to 0 to remove automatic display of page table of contents (TOC) in Sidebar
      subMaxLevel: 2,
      hideSidebar: (getURLParameterByName(['standalone', 'embedded']) || standalone || (getURLParameterByName('basePath')) && !(getURLParameterByName('sidebar'))),

      search: 'auto', // default

      // complete configuration parameters
      search: {
        maxAge: 86400000, // Expiration time, the default one day
        paths: ['auto'],
        placeholder: 'Type to search',
        noData: 'No matches found.',
        // Headline depth, 1 - 6
        depth: 6,
        namespace: 'docsify-this',
        hideOtherSidebarContent: false, // whether or not to hide other sidebar content
      },

      // CUSTOM PLUGINS
      // -----------------------------------------------------------------
      plugins: [

        function (hook, vm) {

          hook.afterEach(function (html, next) {
            // Invoked each time after the Markdown file is parsed.
            // beforeEach and afterEach support asynchronous。
            // ...
            // call `next(html)` when task is done.

            if (window.$docsify['basePath']) {

              var htmlElement = document.createElement('div');
              htmlElement.innerHTML = html;

              // Scan for links to local Markdown files and adjust URLs to work correctly

              // Get current Docsify URL without any parmarmeters
              var url = '';
              url = window.location.href
              url = url.replace(/[?].*/, ''); // Strips anything after ?

              var currentBasePath = '';
              currentBasePath = getURLParameterByName('basePath', null, null, window.location.href, true);

              // List of parameter names to check
              var paramNames = [
              'browser-tab-title',
              'dark-mode',
              'edit-link-text',
              'edit-link-top',
              'font-family',
              'font-size',
              'header-weight',
              'hide-credits',
              'hypothesis',
              'line-height',
              'link-color-dark-mode',
              'link-color',
              'loadFavicon',
              'loadFooter',
              'loadNavbar',
              'loadSidebar',
              'maxLevel',
              'page-title',
              'search',
              'sidebar',
              'subMaxLevel',
              'toc',
              'toc-headings',
              'toc-narrow',
              'zoom-images',
              ];

              // Carry any existing URL parms in links
              var URLparms = '';

              // Loop through the parameter names and check if they exist in the URL
              for (var i = 0; i < paramNames.length; i++) {
                var paramName = paramNames[i];
                var paramValue = getURLParameterByName(paramName, null, null, window.location.href, true);
                if (paramValue) {
                  URLparms += '&' + paramName + '=' + encodeURIComponent(paramValue);
                }
              }

              const links = Array.from(htmlElement.querySelectorAll('a'));

              let existingEditThisPageLink = getURLParameterByName('edit-link', null, null, window.location.href, true);
              let fileExt = getFileExtension(existingEditThisPageLink);
              if (!fileExt) {
                fileExt = getFileExtension(getURLParameterByName('homepage', null, null, window.location.href, true));
              }

              for (const link of links) {
                // Find any local Markdown file links
                if (link.getAttribute('href')?.match(/^#/)) {
                  // Modify each Markdown file link to work with Remote Docsify
                  var lastSegment = '';
                  lastSegment = link.getAttribute('href');
                  lastSegment = lastSegment.replace('#/', '');
                  lastSegment = lastSegment.replace('./', '');
                  lastSegment = lastSegment.replace(fileExt, '');
                  // Check to make sure link is not Docsify id anchor link
                  var editThisPageLinkURLparm = '';
                  if (lastSegment.startsWith("?id") === false) {
                    if (existingEditThisPageLink) {
                      // Calculate existing edit-link URL parm in link
                      if (currentBasePath.includes("githubusercontent.com") && (existingEditThisPageLink.substr(existingEditThisPageLink.length - fileExt.length) == fileExt)) {
                        var editThisPageLink = '';
                        editThisPageLink = decodeURIComponent(currentBasePath);
                        if (existingEditThisPageLink.includes('github.dev')) {
                          editThisPageLink = editThisPageLink.replace('raw.githubusercontent.com', 'github.dev');
                        } else {
                          editThisPageLink = editThisPageLink.replace('raw.githubusercontent.com', 'github.com');
                        }
                        editThisPageLink = editThisPageLink.replace(/\/main/, '/blob/main');
                        editThisPageLink = editThisPageLink.replace(/\/master/, '/blob/master');
                        editThisPageLink = editThisPageLink + '/' + lastSegment + fileExt;
                        editThisPageLinkURLparm = `&edit-link=` + editThisPageLink;
                      }
                      if (currentBasePath.includes("codeberg.page") && (existingEditThisPageLink.substr(existingEditThisPageLink.length - fileExt.length) == fileExt)) {
                        var editThisPageLink = '';
                        editThisPageLink = decodeURIComponent(currentBasePath);
                        editThisPageLink = editThisPageLink.replace('raw.codeberg.page', 'codeberg.org');
                        editThisPageLink = editThisPageLink + '/src/branch/main/' + lastSegment + fileExt;
                        editThisPageLinkURLparm = `&edit-link=` + editThisPageLink;
                      }
                      if (!(existingEditThisPageLink.substr(existingEditThisPageLink.length - fileExt.length) == fileExt)) {
                        editThisPageLinkURLparm = `&edit-link=` + existingEditThisPageLink;
                      }
                    }
                    // Update Markdown file link
                    var newURL = '';
                    // Leverage Docsify page-to-page cache if no dynamic URL parameters are present (i.e. edit-link Markdown pages)
                    var isDynamicLink = (isExtensionAllowed(editThisPageLinkURLparm) && !(editThisPageLinkURLparm === "")) && !getURLParameterByName('hypothesis');
                    if (!isDynamicLink) {
                      newURL = '#/' + lastSegment;
                    } else {
                      newURL = url + '?basePath=' + currentBasePath + '&homepage=' + lastSegment + fileExt + URLparms + editThisPageLinkURLparm;
                    }
                    link.setAttribute('href', newURL);
                  }
                } else {
                  // Set '_top' as external link targets except for docsify-this.net and GitHub Docsify-This repository
                  if (! (link.href == "https://docsify-this.net/" || link.href == "https://github.com/hibbitts-design/docsify-open-publishing-starter-kit")) {
                    link.setAttribute('target', '_top');
                  }
                }
              }

            /* JS to change Embedly cards to light or dark theme based on system theme */
            const embeds = Array.from(htmlElement.querySelectorAll('.embedly-card'))
            if (!(embeds.length === 0)) {
               if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)  {
                  // dark mode
                  enabledarkmode = getURLParameterByName('dark-mode', true, false, window.location.href, true) === 'true';
                  if (enabledarkmode || darkmode) {
                    embeds.forEach(embed => {
                      embed.setAttribute('data-card-theme', 'dark');
                    });
                  }
                  } else {
                  // light mode
                  embeds.forEach(embed => {
                    embed.setAttribute('data-card-theme', 'light');
                  });
              }
              window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
                if (enabledarkmode || darkmode) {
                  document.location.reload();
                }
              });

            }

            /* Change relative HTML img tag src to absolute for GitHub or Codeberg Markdown files */
            if (currentBasePath.includes("raw.githubusercontent.com") || currentBasePath.includes("raw.codeberg.page")) {
              const images = Array.from(htmlElement.querySelectorAll('img'));
              for (const image of images) {
                // console.log(image.getAttribute('src'));
                let url = image.getAttribute('src');
                if (!(url.includes('://') > 0 || url.startsWith('//'))) {
                  // URL is relative
                  url = url.replace(/^\/+/g, '');
                  url = currentBasePath + '/' + url;
                  image.setAttribute('src', url);
                  // console.log("changed src");
                }
              }
            }

            next(htmlElement.innerHTML);
            } else {
              next(html);
            } 

          });

          hook.beforeEach(function (html) {

            if (!(getURLParameterByName('basePath') === false)) {

              // Remove any possible front matter with the delimiters '---'
              if (html.startsWith("---")) {
                html = html.replace(/---(.|\n)*?---/, '');
              }

              if (/githubusercontent\.com/.test(vm.route.file)) {
                url = vm.route.file
                  .replace('raw.githubusercontent.com', 'github.com')
                  .replace(/\/master/, '/blob/master')
              } else if (window.$docsify['basePath']) {
                url = getURLParameterByName('edit-link', null, null, window.location.href, true);
                gitLinkRepoURL = url;
              } else {
                if (gitLinkRepoURL.includes("github.com")) {
                  url = gitLinkRepoURL + '/blob/main/docs/' + vm.route.file
                }
                if (gitLinkRepoURL.includes("codeberg.org") || gitLinkRepoURL.includes("codeberg.pages")) {
                  gitlinkPageURL = gitlinkPageURL.replace(/\/raw/, '/src');
                  url = gitLinkRepoURL + vm.route.file
                }
              }

              editlinktextparm = getURLParameterByName('edit-link-text', null, null, window.location.href, true);
              if (!(editlinktextparm === false) && !(window.$docsify['basePath'] === undefined)) {
                editlinktextparm = editlinktextparm.replaceAll('%20', ' ');
                editLinkText = editlinktextparm;
              }

              var editHtml = '[:memo:' + editLinkText + '](' + url + ')\n'

              var creditHtml = '\n\n' + 'This page is displayed using <a href="https://docsify-this.net" target="_blank">Docsify-This</a>, based on the <a href="https://github.com/hibbitts-design/docsify-open-publishing-starter-kit" target="_blank">Docsify Open Publishing Starter Kit</a>.'

              if (!(getURLParameterByName(['standalone', 'embedded'])) && !(getURLParameterByName('hidegitlink', true, false, window.location.href, true) === 'true') && (!!gitLinkRepoURL)) {
                if (!(getURLParameterByName('hide-credits', true, false, window.location.href, true) === 'true')) {
                  if (getURLParameterByName('edit-link-top', true, false, window.location.href, true) === 'true') {
                    return editHtml + '\n' + html + '<br />' + '\n\n' + '<hr>' + creditHtml
                  } else {
                    return html + '<br /><br />' + '\n\n' + editHtml + '\n\n' + '<hr>' + creditHtml
                  }
                } else {
                  if (getURLParameterByName('edit-link-top', true, false, window.location.href, true) === 'true') {
                    return editHtml + '\n' + html
                  } else {
                    return html + '<br />' + '\n\n' + editHtml
                  }
                }

              } else if (getURLParameterByName(['standalone', 'embedded']) && !(getURLParameterByName('hidegitlink', true, false, window.location.href, true) === 'true') && (!!gitLinkRepoURL)) {
                if (getURLParameterByName('edit-link-top', true, false, window.location.href, true) === 'true') {
                  return editHtml + '\n' + html
                } else {
                  return html + '<br />' + '\n\n' + editHtml
                }

              } else if (!(getURLParameterByName(['standalone', 'embedded']))) {
                if (!(getURLParameterByName('hide-credits', true, false, window.location.href, true) === 'true')) {
                  return html + '<br />' + '\n\n' + '<hr>' + creditHtml
                } else {
                  return html
                }

              } else {
                return html
              }
            }
          });

          // Invoked on each page load after new HTML has been appended to the DOM
          hook.doneEach(function () {
            if (window.$docsify['basePath']) {
              var hasEmbedly = document.getElementsByClassName('embedly-card');
              if (hasEmbedly.length > 0) {
                  // elements with class "embedly-card" exist
                  var script = document.createElement('script');
                  script.type = 'text/javascript';
                  script.src = 'https://cdn.embedly.com/widgets/platform.js';    
                  document.head.appendChild(script);
              }

              // Remove optional ToC area if full width header image is present
              var hasImageHeader = document.getElementsByClassName('header-image-full-width');
              if (hasImageHeader.length > 0) {
                const elements = document.getElementsByClassName("nav");
                while (elements.length > 0) elements[0].remove();
              }

              // Adjust left margin for optional ToC area if faded header image is present
              var hasImageFade = document.getElementsByClassName('header-image-fade');
              var hasNav = document.getElementsByClassName('nav');
              if (hasImageFade.length > 0 && hasNav.length > 0) {
                var editCSS = document.createElement('style')
                editCSS.innerHTML = ".markdown-section {margin-right: 0px;}";
                document.body.appendChild(editCSS);
              }

              // Change browser title if browser tab title parameter present
             browserTabTitle = getURLParameterByName('browser-tab-title', null, null, window.location.href, true);
              if (!(browserTabTitle === false)) {
                document.title = browserTabTitle;
              } else {
                document.title = 'Published by Docsify-This';
              }

              // Change page title if page title parameter present
              pageTitle = getURLParameterByName('page-title', null, null, window.location.href, true);
              if (!(pageTitle === false)) {
                var newh1 = document.createElement("h1");
                newh1.innerHTML = pageTitle
                var divToMoveTo = document.getElementById("main");
                divToMoveTo.insertBefore(newh1, divToMoveTo.children[0]);   
              }

              // Update all iframes with source domains 'youtube.com', 'youtube-nocookie.com' or 'docs.google.com' to include the default responsive CSS Markdown class `video-container-16by9`
              const allIframes = Array.from(document.querySelectorAll('iframe[src*="youtube.com"], iframe[src*="youtube-nocookie.com"], iframe[src*="docs.google.com"]'));

              // Filter out iframes that are not already wrapped with a div including the classes 'video-container-16by9' and 'video-container-4by3'
              const targetIframes = allIframes.filter(function(iframe) {
                const parentDiv = iframe.parentNode;
                return !parentDiv.matches('.video-container-16by9, .video-container-4by3');
              });

              // Wrap each target iframe with a div element
              targetIframes.forEach(function(iframe) {
                const wrapperDiv = document.createElement('div');
                wrapperDiv.classList.add('video-container-16by9');
                // Preserve existing classes on the iframe
                iframe.classList.forEach(function(className) {
                  wrapperDiv.classList.add(className);
                });
                // Replace the iframe with the wrapper div
                iframe.parentNode.replaceChild(wrapperDiv, iframe);
                wrapperDiv.appendChild(iframe);
              });

            }
          });

          hook.ready(function () {
            if (window.$docsify['basePath']) {
              return; // Exit if basePath is present
            }

            function getURLParameter(parameterName) {
              const urlParams = new URLSearchParams(window.location.search);
              return urlParams.get(parameterName);
            }

            if (getURLParameter('url-field')) {
              // console.log(getURLParameterByName('url-field'));
              var markdownFileURL = '';
              markdownFileURL = getURLParameterByName('url-field', null, null, window.location.href, true);
              if (markdownFileURL == "empty") {
                markdownFileURL = '';
              }
              document.getElementById('docsifythisurlfield').value = markdownFileURL;
            }

            if (getURLParameter('show-page-options') === 'true' || getURLParameterByName(['browser-tab-title','font-family', 'font-size','line-height','link-color','edit-link-text','edit-link-top','hide-credits','toc-headings','toc-narrow','maxLevel','hypothesis'])) {
              var theDiv = document.getElementById("docsifythisurlbuilderoptionsDiv");
              document.getElementById("docsifythisurlbuildershowhidelink").innerHTML = "<a name='toggleDivlink' href='#' onclick='toggleDiv(this); return false;'>Show Fewer Page Appearance Options &laquo;</a>";
              document.getElementById("pageappearanceoptionsheader").style.display = "none";
              theDiv.style.display = "block";
            }

            if (getURLParameter('advanced') === 'true' || getURLParameterByName(['page-title','header-weight','zoom-images','loadFavicon','coverpage','loadSidebar','loadNavbar','loadFooter','search','coverpage-color','dark-mode','link-color-dark-mode','coverpage-color-dark-mode'])) {
              document.getElementById("btn_2").style.display = "none";
              var theDiv = document.getElementById("docsifythisurlbuilderoptionsDiv");
              document.getElementById("docsifythisurlbuildershowhidelink").style.display = "none";
              theDiv.style.display = "block";
              var theDiv2 = document.getElementById("docsifythisurlbuilderoptionsDiv2");
              theDiv2.style.display = "block";
            }

            if (getURLParameter('toc') === 'true') {
              document.getElementById("stylecontentonly").checked = false;
              document.getElementById("styletoc").checked = true;
              document.getElementById("stylesidebar").checked = false;
            }

            if (getURLParameter('sidebar') === 'true') {
              document.getElementById("stylecontentonly").checked = false;
              document.getElementById("styletoc").checked = false;
              document.getElementById("stylesidebar").checked = true;
            }

            if (getURLParameter('edit-link-checkbox') === 'true' || getURLParameter('edit-link')) {
              document.getElementById("editCheck").checked = true;
            }

            browserTabTitle = getURLParameter('browser-tab-title');
            if (browserTabTitle) {
              document.getElementById('browserTabTitle').value = decodeURI(browserTabTitle);
            }

            fontfamily = getURLParameter('font-family');
            if (fontfamily) {
              document.getElementById('fontfamily').value = encodeURI(fontfamily);
            }

            fontsize = getURLParameter('font-size');
            if (fontsize) {
              document.getElementById('fontsize').value = fontsize;
            }

            lineheight = getURLParameter('line-height');
            if (lineheight) {
              document.getElementById('lineheight').value = lineheight;
            }

            linkcolor = getURLParameter('link-color');
            if (linkcolor) {
              linkcolor = '#' + linkcolor;
              document.getElementById('linkcolor').value = linkcolor;
              document.getElementById("linkcolorpreview").style.visibility = "visible";
              document.getElementById("linkcolorpreview").style.borderColor = linkcolor;
              document.getElementById("linkcolorpreview").style.backgroundColor = linkcolor;
            }

            editLinkText = getURLParameter('edit-link-text');
            if (editLinkText) {
              document.getElementById('editLinkText').value = decodeURI(editLinkText);
            }

            if (getURLParameter('edit-link-top') === 'true') {
              document.getElementById("editLinkTopCheck").checked = true;
            }

            if (getURLParameter('hide-credits') === 'true') {
              document.getElementById("hideCredits").checked = true;
            }

            tocheadings = getURLParameter('toc-headings');
            if (tocheadings) {
              if (tocheadings.includes("h1")) {
                document.getElementById("toch1").checked = true;
              }
              if (tocheadings.includes("h2")) {
                document.getElementById("toch2").checked = true;
              }
              if (tocheadings.includes("h3")) {
                document.getElementById("toch3").checked = true;
              }
            }

            if (getURLParameter('toc-narrow') === 'true') {
              document.getElementById("narrowToC").checked = true;
            }

            maxLevel = getURLParameter('maxLevel', null, null, window.location.href, true);
            if (maxLevel) {
              document.getElementById('maxLevel').value = maxLevel;
            }

            if (getURLParameter('hypothesis') === 'true') {
              document.getElementById("hypothesisenable").checked = true;
            }

            pageTitle = getURLParameter('page-title');
            if (pageTitle) {
              document.getElementById('pageTitle').value = decodeURI(pageTitle);
            }

            headerweight = getURLParameter('header-weight');
            if (headerweight) {
              document.getElementById('headerweight').value = headerweight;
            }

            if (getURLParameter('zoom-images') === 'true') {
              document.getElementById("zoomimages").checked = true;
            }
            
            if (getURLParameter('loadFavicon')) {
              document.getElementById("loadfavicon").checked = true;
            }

            if (getURLParameter('coverpage')) {
              document.getElementById("loadcoverpage").checked = true;
            }

            if (getURLParameter('loadSidebar')) {
              document.getElementById("loadcustomsidebar").checked = true;
            }

            if (getURLParameter('loadNavbar')) {
              document.getElementById("loadcustomnavbar").checked = true;
            }

            if (getURLParameter('loadFooter')) {
              document.getElementById("loadcustomfooter").checked = true;
            }

            if (getURLParameter('search') === 'true') {
              document.getElementById("enableSidebarsearch").checked = true;
            }

            subMaxLevel = getURLParameter('subMaxLevel', null, null, window.location.href, true);
            if (subMaxLevel) {
              document.getElementById('subMaxLevel').value = subMaxLevel;
            }

            coverpagecolor = getURLParameter('coverpage-color');
            if (coverpagecolor) {
              coverpagecolor = '#' + coverpagecolor;
              document.getElementById('coverpagecolor').value = coverpagecolor;
              document.getElementById("coverpagecolorpreview").style.visibility = "visible";
              document.getElementById("coverpagecolorpreview").style.borderColor = coverpagecolor;
              document.getElementById("coverpagecolorpreview").style.backgroundColor = coverpagecolor;
            }

            if (getURLParameter('dark-mode') === 'true') {
              document.getElementById("enableDarkmode").checked = true;
            }

            linkcolordarkmode = getURLParameter('link-color-dark-mode');
            if (linkcolordarkmode) {
              linkcolordarkmode = '#' + linkcolordarkmode;
              document.getElementById('linkcolordarkmode').value = linkcolordarkmode;
              document.getElementById("linkcolordarkmodepreview").style.visibility = "visible";
              document.getElementById("linkcolordarkmodepreview").style.borderColor = linkcolordarkmode;
              document.getElementById("linkcolordarkmodepreview").style.backgroundColor = linkcolordarkmode;
            }

            coverpagecolordarkmode = getURLParameter('coverpage-color-dark-mode');
            if (coverpagecolordarkmode) {
              coverpagecolordarkmode = '#' + getURLParameterByName('coverpage-color-dark-mode', null, null, window.location.href, true);
              document.getElementById('coverpagecolordarkmode').value = coverpagecolordarkmode;
              document.getElementById("coverpagecolordarkmodepreview").style.visibility = "visible";
              document.getElementById("coverpagecolordarkmodepreview").style.borderColor = coverpagecolordarkmode;
              document.getElementById("coverpagecolordarkmodepreview").style.backgroundColor = coverpagecolordarkmode;
            }

            const x = window.scrollX;
            const y = window.scrollY;
            selectText();
            window.scrollTo(x, y);

          });

        }

      ]
    }

    <!-- Credit to Beau Shaw for dymamic remote docsify technique -->
    <!-- To render a Markdown file named ** README.md ** (the expected default name) the URL would be https://hibbitts-design.github.io/test-docsify-project-docs/?basePath=https://raw.githubusercontent.com/hibbitts-design/docsify-open-course-starter-kit/main -->
    if (getURLParameterByName('basePath')) {
      const params = new URLSearchParams(window.location.search);
      params.forEach((value, key) => {
        // TODO: Parse numbers?

        // console.log(value,key);
        if (key === 'basePath' && !(allowedDomains === '')) {
          const { hostname } = new URL(value);
          if (!(allowedDomains.includes(hostname))) {
            alert('Only the domain(s) ' + allowedDomains + ' permitted for a Markdown source file URL.');
            throw new Error('Only the domain ' + allowedDomains + ' permitted for a Markdown source file URL.');
          } else {
            window.$docsify[key] = value;
          }
        } else {
          window.$docsify[key] = value;
        }
      });
    }

    // If switch of light/dark theme mode
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      // console.log(`changed to ${e.matches ? "dark" : "light"} mode`);
      // console.log(e.matches);            
      updateThemeModeLinkColors();
    });

    // Check for Return Key with Web Page Builder
    if (window.$docsify['basePath'] === undefined) {
      function checkKey(e) {
        var key = e.keyCode || e.which;
        if (key == 13) {
          document.getElementById("btn_1").click();
        }
      }
    }

  </script>

  <!-- <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script> -->
  <script src="assets/vendor/docsify/docsify.min.js"></script>

  <!-- Adjust Page Margins When Standalone or Embedded -->
  <script>
    if (getURLParameterByName(['standalone', 'embedded']) || standalone) {
      var editCSS = document.createElement('style')
      editCSS.innerHTML = ".markdown-section {padding: 1rem 14px;}";
      document.body.appendChild(editCSS);
    }
  </script>

  <!-- Customizable Theme -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script> -->
  <script src="assets/vendor/themeable/docsify-themeable-docsify-this.min.js"></script>

  <!-- Load custom.css file only when displaying Markdown files -->
  <script>
    if (window.$docsify['basePath']) {
      document.write('<link rel="stylesheet" type="text/css" href="assets/css/custom.css" />');
    }
  </script>

  <!-- Load default or custom favicon file -->
  <script>
    const favicon = getURLParameterByName('loadFavicon', null, null, window.location.href, true);
    if ((favicon !== false) && getURLParameterByName('basePath')) {
      const fileUrl = window.$docsify['basePath'] + '/' + favicon;
      checkIfFileExists(fileUrl)
        .then(exists => {
          if (exists) {
            // Perform actions when the file exists
            setFavicon(fileUrl);
          } else {
            // Perform actions when the file does not exist
            setFavicon('assets/favicon/favicon.png');
          }
        })
        .catch(error => {
          // Handle the error
          setFavicon('assets/favicon/favicon.png');
        });
    } else {
      setFavicon('assets/favicon/favicon.png');
    }
  </script>

  <!-- Font Awesome Plugin -->
  <!-- <script src="https://unpkg.com/docsify-fontawesome/dist/docsify-fontawesome.min.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-fontawesome.min.js"></script>

  <!-- Footnotes Plugin -->
  <!-- <script src="//cdn.jsdelivr.net/npm/@sy-records/docsify-footnotes/lib/index.min.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-footnotes.min.js"></script>

  <!-- Footer Plugin -->
  <!-- <script src="//cdn.jsdelivr.net/npm/@alertbox/docsify-footer/dist/docsify-footer.min.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-footer.min.js"></script>

  <!-- Table of Contents Plugin -->
  <script>
    if (getURLParameterByName('toc', true, false, window.location.href, true) === 'true' && getURLParameterByName('basePath') || ToC) {
      document.write('<link rel="stylesheet" type="text/css" href="assets/css/toc.css" />');
      document.write('<script src="assets/js/toc.js"><\/script>');
    }
    if (getURLParameterByName('toc-narrow', true, false, window.location.href, true) === 'true' && getURLParameterByName('basePath')) {
      document.write('<link rel="stylesheet" type="text/css" href="assets/css/toc-narrow.css" />');
      document.write('<script src="assets/js/toc.js"><\/script>');
    }
  </script>

  <!-- Mermaid Diagrams Plugin v2 -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true });
    window.mermaid = mermaid;
  </script>
  <!-- <script src="//unpkg.com/docsify-mermaid@2.0.0/dist/docsify-mermaid.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-mermaid.js"></script>

  <!-- Katex Plugin -->
  <!-- <script src="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>  -->
  <script src="assets/vendor/katex/katex.min.js"></script>

  <!-- <script src="//cdn.jsdelivr.net/npm/marked@4"></script> -->
  <script src="assets/vendor/marked4/marked.js"></script>

  <!-- CDN files for docsify-katex -->
  <!-- <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-katex.js"></script>

  <!-- Optionally enable Hypothesis -->
  <script>
    if (getURLParameterByName('hypothesis', true, false, window.location.href, true) === 'true' && getURLParameterByName('basePath')) {
      document.write('<script async src="https://hypothes.is/embed.js"><\/script>');
    }
  </script>

  <!-- Load AsciiDoc Plugin -->
  <!-- <script src="unpkg.com/docsify-asciidoc@^1/dist/main.js"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-asciidoc.js"></script>

  <!-- Check for headerweight, fontfamily, fontsize, lineheight, theme colors, and darkmode parameters -->
  <script>
    if (!(window.$docsify['basePath'] === undefined)) {

      // Change header weight if headerweight parameter present
      headerweight = getURLParameterByName('header-weight', null, null, window.location.href, true);
      if (!(headerweight === false)) {
        document.documentElement.style.setProperty('--heading-h1-font-weight', headerweight);
        document.documentElement.style.setProperty('--heading-h2-font-weight', headerweight);
        document.documentElement.style.setProperty('--heading-h3-font-weight', headerweight);
        document.documentElement.style.setProperty('--heading-h4-font-weight', headerweight);
        document.documentElement.style.setProperty('--heading-h5-font-weight', headerweight);
        document.documentElement.style.setProperty('--heading-h6-font-weight', headerweight);
      }

      // Change body font if fontFamily parameter present
      fontfamily = getURLParameterByName('font-family', null, null, window.location.href, true);
      if (!(fontfamily === false)) {
        document.documentElement.style.setProperty('--base-font-family', fontfamily);
      }

      // Change body font size if fontSize parameter present
      fontsize = getURLParameterByName('font-size', null, null, window.location.href, true);
      if (!(fontsize === false)) {
        fontsize = fontsize + 'rem';
        document.documentElement.style.setProperty('--base-font-size', fontsize);
      }

      // Change line height if lineheight parameter present
      lineheight = getURLParameterByName('line-height', null, null, window.location.href, true);
      if (!(lineheight === false)) {
        document.documentElement.style.setProperty('--base-line-height', lineheight);
      }

      updateThemeModeLinkColors();

      // Keep dark theme CSS files loaded if dark-mode parameter is true
      enabledarkmode = getURLParameterByName('dark-mode', true, false, window.location.href, true) === 'true';
      if (enabledarkmode === false && darkmode === false) {
        var linkNode = document.querySelector('link[href*="theme-simple-dark.css"]');
        linkNode.parentNode.removeChild(linkNode);
      }

    }
  </script>

  <script src="https://h5p.org/sites/all/modules/h5p/library/js/h5p-resizer.js" charset="UTF-8"></script>

  <!-- Additional Languages for Prismjs -->
  <script src="assets/vendor/prismjs/prism-bash.min.js"></script>
  <script src="assets/vendor/prismjs/prism-go.min.js"></script>
  <script src="assets/vendor/prismjs/prism-java.min.js"></script>
  <script src="assets/vendor/prismjs/prism-kotlin.min.js"></script>
  <script src="assets/vendor/prismjs/prism-php.min.js"></script>
  <script src="assets/vendor/prismjs/prism-python.min.js"></script>
  <script src="assets/vendor/prismjs/prism-swift.min.js"></script>

  <!-- WikiLinks Plugin -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/docsify-wikilink@1"></script> -->
  <script src="assets/vendor/docsify/plugins/docsify-wikilink.js"></script>

  <!-- Zoom Image Plugin -->
  <script>
    if (!(window.$docsify['basePath'] === undefined)) {
      if (getURLParameterByName('zoom-images', true, false, window.location.href, true) === 'true') {
      document.write('<script src="assets/vendor/docsify/plugins/zoom-image.min.js"><\/script>');
      }
    }
  </script>

  <!--Search Plugin -->
  <script>
    if (getURLParameterByName('search', true, false, window.location.href, true) === 'true') {
      document.write('<script src="assets/vendor/docsify/plugins/search-docsify-this.min.js"><\/script>');
    }
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics, only loaded for docsify-this.net homepage -->

  <script>
    if ((location.hostname.includes("docsify-this.net")) && (window.$docsify['basePath'] === undefined)) {
      document.write('<script async src="https://www.googletagmanager.com/gtag/js?id=UA-19424343-37"><\/script>');
    }
  </script>

  <script>
    if ((location.hostname.includes("docsify-this.net")) && (window.$docsify['basePath'] === undefined)) {
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'UA-19424343-37', { 'anonymize_ip': true });
    }
  </script>

</body>

</html>
